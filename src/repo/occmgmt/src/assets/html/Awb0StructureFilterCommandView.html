<aw-command-panel caption="i18n.filter">


    <aw-command-bar anchor="filterSettingsSlot" alignment="HORIZONTAL" exist-when='props.subPanelContext.occContext.supportedFeatures.Awb0EnableSmartDiscoveryFeature && !props.subPanelContext.occContext.readOnlyFeatures.Awb0StructureFilterFeature'
    visible-when="(data.activeViewSharedData.activeView !== 'Awb0FilterPanelSettings' && data.activeViewSharedData.activeView !== 'ProximitySubPanel' && data.activeViewSharedData.activeView !== 'BoxZoneSubPanel' && data.activeViewSharedData.activeView !== 'PlaneZoneSubPanel')">         >
    </aw-command-bar>


    <aw-flex-row exist-when="!props.subPanelContext.occContext.supportedFeatures.Awb0EnableSmartDiscoveryFeature">
        <aw-command-sub-panel panel-id="Awb0StructureFilterCommandSubPanel"
            exist-when="data.activeViewSharedData.activeView === 'Awb0StructureFilterCommandSubPanel'"
            sub-panel-context="{...props.subPanelContext, data: data, sharedData:data.sharedData}">
        </aw-command-sub-panel>
    </aw-flex-row>

    <aw-flex-row exist-when="props.subPanelContext.occContext.supportedFeatures.Awb0EnableSmartDiscoveryFeature">

        <aw-command-sub-panel panel-id="Awb0DiscoveryFilterCommandSubPanel"
            exist-when="data.activeViewSharedData.activeView === 'Awb0DiscoveryFilterCommandSubPanel'"
            sub-panel-context="{...props.subPanelContext, data: data, activeViewSharedData: data.activeViewSharedData, sharedData:data.sharedData}">
        </aw-command-sub-panel>

            <aw-navigate-panel title='i18n.settings' exist-when="data.activeViewSharedData.activeView === 'Awb0FilterPanelSettings'"
                pre-panel-id='Awb0DiscoveryFilterCommandSubPanel' panel-id='Awb0FilterPanelSettings'
                sub-panel-context='{activeViewSharedData: data.activeViewSharedData, sharedData:data.sharedData}'
                action="navigateBackToDiscoverySubPanel">
            </aw-navigate-panel>
        <aw-navigate-panel title="{{data.sharedData.spatialRecipeIndexToUpdate >=0 ?  i18n.EditProximitySubPanel: i18n.ProximitySubPanel }}"
            exist-when="data.activeViewSharedData.activeView === 'ProximitySubPanel'"
            pre-panel-id='Awb0DiscoveryFilterCommandSubPanel' panel-id='ProximitySubPanel'
            sub-panel-context='{activeViewSharedData: data.activeViewSharedData, sharedData:data.sharedData, occContext: props.subPanelContext.occContext}'
            action="navigateBackToDiscoverySubPanel">
        </aw-navigate-panel>
        <aw-navigate-panel title='i18n.BoxZoneSubPanel'
            exist-when="data.activeViewSharedData.activeView === 'BoxZoneSubPanel'"
            pre-panel-id='Awb0DiscoveryFilterCommandSubPanel' panel-id='BoxZoneSubPanel'
                sub-panel-context='{activeViewSharedData: data.activeViewSharedData, sharedData:data.sharedData, occContext: props.subPanelContext.occContext}'
            action="navigateBackToDiscoverySubPanel">
        </aw-navigate-panel>
        <aw-navigate-panel title='i18n.PlaneZoneSubPanel'
            exist-when="data.activeViewSharedData.activeView === 'PlaneZoneSubPanel'"
            pre-panel-id='Awb0DiscoveryFilterCommandSubPanel' panel-id='PlaneZoneSubPanel'
                sub-panel-context='{activeViewSharedData: data.activeViewSharedData, sharedData:data.sharedData, occContext: props.subPanelContext.occContext}'
            action="navigateBackToDiscoverySubPanel">
        </aw-navigate-panel>
        <div class="sw-row aw-partition-filter-panel" exist-when="data.activeViewSharedData.activeView === 'PartitionHierarchySubPanel'">
            <aw-panel-section collapsed="disabled" caption="i18n.filters" class="aw-filters-section aw-search-left-panel-view aw-partition-filter-panel1" aw-class="{'disabled': data.activeViewSharedData.activeView === 'PartitionHierarchySubPanel' }">
                <aw-command-sub-panel panel-id="Awb0DiscoveryFilterCommandSubPanel"
                    sub-panel-context="{...props.subPanelContext, data: data, activeViewSharedData: data.activeViewSharedData, sharedData:data.sharedData}">
                </aw-command-sub-panel>
            </aw-panel-section>
            <aw-splitter></aw-splitter>
            <aw-panel-section collapsed="disabled" caption='{{data.sharedData.clickedObj.name}}' class="aw-results-section aw-partition-filter-panel2 w-6">
                <aw-command-sub-panel panel-id="PartitionHierarchySubPanel"
                    sub-panel-context='{occContext: props.subPanelContext.occContext, activeViewSharedData: data.activeViewSharedData, sharedData:data.sharedData}'>
                </aw-command-sub-panel>
            </aw-panel-section>
        </div>
    </aw-flex-row>
</aw-command-panel>
