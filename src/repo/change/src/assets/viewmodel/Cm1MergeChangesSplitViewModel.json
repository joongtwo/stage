{
    "schemaVersion": "1.0.0",
    "imports": [
        "js/aw-sublocation.directive",
        "js/aw-panel-body.directive",
        "js/aw-splitter.directive",
        "js/aw-include.directive"
    ],
    "data": {
        "_awSublocationPref": {
            "hideRightWall": true
        },
        "mergeSrcSublocation": {
            "viewKey": "occmgmtContext",
            "name": "com.siemens.splm.client.change:mergeChangesSubLocation",
            "label": {
                "source": "/i18n/ChangeMessages",
                "key": "Cm1MergeViewTitle"
            },

            "requestPref": {
                "savedSessionMode": "ignore",
                "splitMode":"true",
                "showChange":"true",
                "showMarkup": [ "false" ]
            },
            "clientScopeURI": "Awb0OccurrenceManagement",
            "nameToken": "com.siemens.splm.client.change:mergeChangesSubLocation",
            "policy": "/policies/occMgmtPropertyPolicy.json",
            "viewBase": "occMgmt",
            "selectionQueryParamKey": "c_uid",
            "contextKey": "occmgmtContext",
            "splitterLayout": "HORIZONTAL",
            "breadcrumbConfig": {
                "type": "navigate",
                "vm": "occMgmtBreadcrumb",
                "chevronDataProvider": "breadCrumbDataProvider",
                "crumbDataProvider": "aceBreadCrumbDataProvider",
                "noUpdate": true,
                "popuplist": "/html/occMgmtBreadcrumblist.html",
                "id": "occmgmtContext",
                "displayProperty": "object_string"
            },
            "headerPreference": {
                "hideGlobalSearch": true,
                "hideLogo": true
            },
            "viewModes": {
                "TreeView": {
                    "primaryWorkArea": "tree",
                    "secondaryWorkArea": false
                }
            },
            "defaultDisplayMode": "TreeView",

            "context": {
                "commandContextParameters": [ "filter", "recipe", "uid", "uid2" ],
                "search": {
                    "hideInContentSearchBox": true
                }

            },
            "urlParams": {
                "selectionQueryParamKey": "c_uid",
                "openStructureQueryParamKey": "o_uid",
                "rootQueryParamKey": "uid",
                "productContextQueryParamKey": "pci_uid",
                "csidQueryParamKey": "c_csid",
                "secondaryPageIdQueryParamKey": "spageId",
                "topElementQueryParamKey": "t_uid",
                "pageIdQueryParamKey": "pageId",
                "recipeParamKey": "recipe",
                "subsetFilterParamKey": "filter"
            },
            "awSubLocationPref": {

                "hideRightWall": true
            },
            "data": {
                "searchBox": {
                    "displayName": "",
                    "type": "STRING",
                    "isRequired": "true",
                    "dbValue": "",
                    "isEnabled": "true"
                }
            },
            "displayLabel": {
                "text": "{{i18n.Cm1MergeSourceTitle}}",
                "separator": "|"
            },
            "baseSelection": "{{ctx.mergeChangesCtx.srcStructure}}"
        },
        "mergeTrgSublocation": {
            "viewKey": "occmgmtContext2",
            "name": "com.siemens.splm.client.change:mergeChangesSubLocation",
            "label": {
                "source": "/i18n/ChangeMessages",
                "key": "Cm1MergeViewTitle"
            },
            "requestPref": {
                "savedSessionMode": "ignore",
                "splitMode":"true",
                "showChange":"true",
                "showMarkup": [ "false" ]
            },
            "clientScopeURI": "Awb0OccurrenceManagement",
            "nameToken": "com.siemens.splm.client.change:mergeChangesSubLocation",
            "policy": "/policies/occMgmtPropertyPolicy.json",
            "viewBase": "occmgmtSplit",
            "selectionQueryParamKey": "c_uid",
            "contextKey": "occmgmtContext2",
            "splitterLayout": "HORIZONTAL",
            "breadcrumbConfig": {
                "type": "navigate",
                "vm": "occMgmtSplitBreadcrumb",
                "chevronDataProvider": "breadCrumbDataProvider2",
                "crumbDataProvider": "aceBreadCrumbDataProvider2",
                "noUpdate": true,
                "popuplist": "/html/occMgmtBreadcrumblist.html",
                "id": "occmgmtContext2",
                "displayProperty": "object_string"
            },
            "headerPreference": {
                "hideGlobalSearch": true,
                "hideLogo": true
            },
            "viewModes": {
                "TreeView": {
                    "primaryWorkArea": "tree",
                    "secondaryWorkArea": false
                }
            },
            "defaultDisplayMode": "TreeView",
            "context": {
                "commandContextParameters": [ "filter", "recipe", "uid", "uid2" ],
                "search": {
                    "hideInContentSearchBox": true
                }

            },
            "urlParams": {
                "selectionQueryParamKey": "c_uid2",
                "openStructureQueryParamKey": "o_uid2",
                "rootQueryParamKey": "uid2",
                "productContextQueryParamKey": "pci_uid2",
                "csidQueryParamKey": "c_csid2",
                "secondaryPageIdQueryParamKey": "spageId2",
                "topElementQueryParamKey": "t_uid2",
                "pageIdQueryParamKey": "pageId2",
                "recipeParamKey": "recipe2",
                "subsetFilterParamKey": "filter2"
            },
            "awSubLocationPref": {

                "hideRightWall": true
            },
            "data": {
                "searchBox": {
                    "displayName": "",
                    "type": "STRING",
                    "isRequired": "true",
                    "dbValue": "",
                    "isEnabled": "true"
                }
            },
            "displayLabel": {
                "text": "{{i18n.Cm1MergeTargetTitle}}",
                "separator": "|"
            },
            "baseSelection": "{{ctx.mergeChangesCtx.trgStructure}}"
        },
        "hiddenCommands": {
            "isSaveWorkingContextNotSupported": true,
            "Awb0StructureFilter": true,
            "Awp0ShowColor": true,
            "Awb0ShowMarkup": true,
            "Awb0AddSubstitutes": true,
            "Awb0RemoveSubstitutes": true,
            "Awb0UseSubstitute": true,
            "ps0AddAlternate": true,
            "ps0RemoveAlternate": true
        },
        "view": {
            "keys": [
                "occmgmtContext",
                "occmgmtContext2"
            ]
        },
        "occContext": {
            "initialValues": {
                "configContext": {},
                "displayToggleOptions": {},
                "supportedFeatures": {},
                "productContextInfo": {},
                "currentState": {},
                "previousState": {},
                "transientRequestPref": {},
                "persistentRequestPref":{},
                "disabledFeatures":[],
                "viewKey": "occmgmtContext"
            },
            "meta": {}
        },
        "occContext2": {
            "initialValues": {
                "configContext": {},
                "displayToggleOptions": {},
                "supportedFeatures": {},
                "productContextInfo": {},
                "currentState": {},
                "previousState": {},
                "transientRequestPref": {},
                "persistentRequestPref":{},
                "disabledFeatures":[],
                "viewKey": "occmgmtContext2"
            },
            "meta": {}
        }
    },
    "props": {

        "sub-panel-context":{
            "type":"object"
        },
        "base-selection": {
            "type": "object"
        }
    },
    "i18n": {
        "Cm1MergeSourceTitle": [
            "ChangeMessages"
        ],
        "Cm1MergeTargetTitle": [
            "ChangeMessages"
        ]
    },
    "lifecycleHooks": {
        "onMount": "initializeMergeView",
        "onUnmount": "destroyMergeSplitView",
        "onUpdate": [
            {
                "action": "update",
                "observers": [ "viewModel.atomicData.occContext", "viewModel.atomicData.occContext2" ]
            }
        ]
    },
    "actions": {
        "mergeViewStateUpdated": {
            "actionType": "Event",
            "method": "Event",
            "inputData": {
                "events": [ {
                    "name": "updateStateForMerge",
                    "excludeLocalDataCtx": true
                } ]
            }
        },
        "initializeMergeView": {
            "actionType": "batchJob",
            "steps": [ {
                    "action": "initializeChangeMergeView"
                },
                {
                    "action": "synchronizeMergeViewStateWithURL"
                },
                {
                    "action": "mergeViewStateUpdated"
                }
            ]
        },
        "synchronizeMergeViewStateWithURL": {
            "actionType": "JSFunctionAsync",
            "method": "synchronizeSplitViewStateWithURL",
            "deps": "js/occmgmtSplitViewService",
            "inputData": {
                "objectsToOpen": "{{data.objectsToOpen}}",
                "activeState": "{{data.activeState}}",
                "occContext": "{{fields.occContext}}",
                "occContext2": "{{fields.occContext2}}",
                "data": "{{data}}"
            },
            "outputData": {
                "objectsToOpen": "objectsToOpen",
                "activeState": "activeState"
            }
        },
        "initializeChangeMergeView": {
            "actionType": "JSFunction",
            "method": "initializeOccmgmtSplitView",
            "deps": "js/occmgmtSplitViewService",
            "inputData": {
                "viewKeys": "{{data.view.keys}}",
                "hiddenCommands": "{{data.hiddenCommands}}"
            },
            "outputData": {
                "activateView": ""
            }
        },
        "destroyMergeSplitView": {
            "actionType": "JSFunction",
            "method": "destroyOccmgmtSplitView",
            "deps": "js/occmgmtSplitViewService",
            "inputData": {
                "viewKeys": "{{data.view.keys}}"
            }
        },
        "update": {
            "actionType": "JSFunction",
            "method": "updateContextForTaskbarCmds",
            "deps": "js/cbaTaskbarCommandService",
            "inputData": {
                "srcContext": "{{occContext}}",
                "trgContext": "{{occContext2}}"
            }
        }

    }
}
